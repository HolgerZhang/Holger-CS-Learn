# C++实验报告

### 实验六 运算符重载、静态成员

代码文件编码：UTF-8 (source code encoding)

本说明文档编码：UTF-8 (this file encoding)

### 一.   实验目的

通过本次实验要达到如下目的：

1.	掌握类的定义和实现；

2.	掌握用自己定义的类产生对象解决具体问题。

### 二.	实验内容

E01.	在E22圆形类的基础上，完成如下功能：

-	定义加法运算，规则：两圆之和为一个新的圆，圆心是第一个操作数的圆心（如a+b，则a的圆心为a+b的圆心），半径为两圆半径之和。加法运算不改变操作数。
-	定义减法运算，规则：两圆之差为一个新的圆，圆心是第一个操作数的圆心，面积为两圆面积之差的绝对值。减法运算不改变操作数。
-	定义自增、自减运算（含前、后自增），对半径进行自增、自减运算。
-	定义输出流运算，输出圆心坐标、半径、周长、面积。
-	定义>、<运算，比较两圆面积之间的大小关系。
-	定义==、!=运算，比较两圆是否是完全相同的圆，当两个圆的圆心坐标和半径完全一致时则两圆完全相同。
-	定义&运算，确定两圆是否同心。
-	定义|运算，确定两圆的位置关系（相交、相切、相离、包含）。
-	编写主函数，任意生成若干圆，分别测试上述功能。
-	提示：可自行决定是否需要增加圆的属性。但是，不提倡为了简化函数的计算而无原则增加属性。这样做在给某些计算带来方便的同时，也可能会使另外一些计算变复杂。如：在记录半径的情况下，再记录周长和面积，可以简化某些运算符重载函数的代码。但是，半径与周长、面积之间有确定的约束关系需要遵守。所以，增加了面积和周长属性后，改变其中任意一项的值都意味着需要重新计算另外两项的值，否则就会产生数据的不一致。

E02.	设有描述复数的类CComplex定义如下：

~~~c++
class CComplex
{
    double m_real;
    double m_image;
public:
    void setValue(double real,double image)
    {
        m_real=real;
        m_image=image;
    }
};
~~~

请使用友元函数实现如下重载：
-	重载<<运算符，使得可以用cout<<输出复数，每个复数输出的格式为：“实部+虚部*i”;
-	重载+运算符，使得可以实现两个复数相加；
-	重载+运算符，使得可以实现复数和实数的相加；
-	重载前置++运算符，使得可以实现复数的实部和虚部分别加1；
-	重载后置++运算符，使得可以实现复数的实部和虚部分别加1；
-	在main函数中测试并试用这些运算符。

E03.	现需要处理银行活期存款业务，设账户类为，CAount，请根据如下需求实现该类，并在 main函数中测试。
-	每个账户需要有一个浮点型的成员m_Money用于存储账上余额；
-	每个账户需要描述存款的日期；
-	银行的年利息采用浮点型静态数据成员m_InterestRate描述，从而避免为每个账户存储利息；
-	为年利息成员提供静态成员SetInterestRate进行设置；
-	为年利息成员提供静态成员GetInterestRate进行获取；
-	提供存款成员函数SaveMoney；
-	提供取款成员函数LendMoney；
-	提供计算利息函数CalcInterest；
-	提供结算利息函数SaveInterest，该函数将计算出的利息结算到本金中。

为简化计算，请考虑以下定义或限制：
    
(1).本题目不考虑闰年，每个月都认为30天，一年认为360天。

(2).存款仅考虑发生一次！

(3).取款允许发生多次，但取款是否允许需要考虑“本金是否足够”的条件
    
银行相关业务和利息的计算方法举例如下：

(1).假设年利率`m_InterestRate=0.036`（表示 3.6%）。`m_InterestRate`是静态成员变量，按照静态成员变量的感念，对所有账户 CAount类的对象而言`m_InterestRate`只有 1个，这样才能实现一改全改的效果！

(2).我于 2014-1-1到银行存了 100000元，`m_Money=100000`。

(3).2014-3-10银行给我“结算利息”一次。2014-1-1到  2014-3-10之间一共间隔了70天，本金  `m_Money=100000+100000*0.036/360*70=100700`。“结算利息”以后，存款日期变为了 2014-3-10！

(4).2014-3-30我到银行想取款  200000，由于本金 `m_Money`只有 100700，所以不允许取款！

(5).2014-4-4我到银行想取款50000，由于本金有100700，所以允许取款。2014-3-10到2014-4-4之间一共间隔了 25天，本次取得的金额是`50000+50000*0.036/360*25=50125`，本金`m_Money=100700-50000=50700`（利息不从我的账户中扣除，这是由银行提供给我的回报），存款日期仍然维持为2014-3-10


